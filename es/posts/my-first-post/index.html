<!DOCTYPE html>
<html lang="es">
<head>
  
    <title>Creando la web :: Blog</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Construyendo la web Para construir la web hemos optado por usar Hugo como generador de sitios estáticos, de forma que podamos automatizar el mantenimiento y despliegue, que realizaremos mediante Travis y GitHub pages.
Hugo Hugo es un generador de sitios estáticos escrito en Go.
Para instalarlo y crear la página web inicial, hemos utilizado las instrucciones disponibles en la documentación oficial.
El tema elegido como base es &amp;ldquo;Terminal&amp;rdquo;, sobre el cual realizaremos todas las modificaciones necesarias." />
<meta name="keywords" content="hugo, blog" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://raulmart.in/es/posts/my-first-post/" />







<link rel="stylesheet" href="https://raulmart.in/css/style.min.css">




<link rel="stylesheet" href="https://raulmart.in/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://raulmart.in/img/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="https://raulmart.in/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

<meta name="twitter:creator" content="Raúl Martín" />


<meta property="og:locale" content="es" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Creando la web :: Blog">
<meta property="og:description" content="¿Cómo funciona el blog? ¿Quién es ese tal Hugo? ¿Le puedo partir las piernas?" />
<meta property="og:url" content="https://raulmart.in/es/posts/my-first-post/" />
<meta property="og:site_name" content="Creando la web" />

  <meta property="og:image" content="https://raulmart.in/hugo_logo.png">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-01-18 00:00:00 &#43;0000 UTC" />












</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Blog
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/es/about/">Quiénes somos</a></li>
        
      
        
          <li><a href="/es/tags/writeup/">WriteUps</a></li>
        
      
      
    

    
    <div class="spacer"></div>
    <ul class="language-selector">
      <ul class="language-selector-current">
          <li>Español ▾</li>
      </ul>
      <ul class="language-selector__more hidden">
        
        <li><a href="https://raulmart.in/">English</a></li>
        
        <li><a href="https://raulmart.in/es/">Español</a></li>
        
      </ul>
    </ul>
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/es/about/">Quiénes somos</a></li>
      
    
      
        <li><a href="/es/tags/writeup/">WriteUps</a></li>
      
    
    
    <hr />
        
          <li>
            <a href="https://raulmart.in/">English</a>
          </li>
        
          <li>
            <a href="https://raulmart.in/es/">Español</a>
          </li>
        
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://raulmart.in/es/posts/my-first-post/">Creando la web</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-01-18 
      </span>
    
    
    <span class="post-author">:: Raúl Martín</span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://raulmart.in/es/tags/blog/">blog</a>&nbsp;
    
  </span>
  

  
    <img src="https://raulmart.in/hugo_logo.png" class="post-cover" alt="Creando la web" />
  

  

  <div class="post-content"><div>
        <h1 id="construyendo-la-web">Construyendo la web<a href="#construyendo-la-web" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Para construir la web hemos optado por usar Hugo como generador de sitios estáticos, de forma que podamos automatizar el mantenimiento y despliegue, que realizaremos mediante Travis y GitHub pages.</p>
<h2 id="hugo">Hugo<a href="#hugo" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><a href="https://gohugo.io/about/what-is-hugo/">Hugo</a> es un generador de sitios estáticos escrito en Go.</p>
<p>Para instalarlo y crear la página web inicial, hemos utilizado las instrucciones disponibles en la <a href="https://gohugo.io/getting-started/installing/">documentación oficial</a>.</p>
<p>El tema elegido como base es <a href="https://themes.gohugo.io/hugo-theme-terminal/">&ldquo;Terminal&rdquo;</a>, sobre el cual realizaremos todas las modificaciones necesarias.</p>
<p>Para proteger los write ups de retos activos se utilizará <a href="https://github.com/Izumiko/hugo-encrypt">Hugo Encrypt</a>, con el cual protegeremos los post con la flag del reto, de forma que solo las personas que ya lo hayan resuelto puedan acceder a su writeup.</p>
<h2 id="despliegue-continuo">Despliegue continuo<a href="#despliegue-continuo" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Crearemos dos repositorios en GitHub siguiendo <a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/">estas instrucciones</a>, de forma que tendremos dos repositorios, uno con el código fuente de la web, que deberemos mantener privado, y el segundo con el resultado de procesar la web con Hugo, cuyos archivos utilizará GitHub Pages.</p>
<p>Conectamos la primera cuenta de Travis con GitHub, y añadimos la contraseña de nuestra segunda cuenta como variable de entorno protegida en Travis, de forma que podamos utilizarla en los scripts para hacer push al segundo repositorio, desde el cual se servirán los archivos de GitHub Pages.</p>
<p>Una vez configurados los dos repositorios, añadiremos los siguientes tres ficheros al primer repositorio:</p>
<p><code>.travis.yml</code>



  <div class="collapsable-code">
    <input id="734528916" type="checkbox"  />
    <label for="734528916">
      <span class="collapsable-code__language">yml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-yml" ><code>
---
git:
  submodules: false
before_install:
  - chmod &#43;x init-submodule.sh
  - ./init-submodule.sh
install:
  - curl -LO https://github.com/gohugoio/hugo/releases/download/v0.62.2/hugo_0.62.2_Linux-64bit.deb
  - sudo dpkg -i hugo_0.62.2_Linux-64bit.deb

script:
  - hugo
  - docker run -it --rm -v `pwd`/public:/data/site chaosbunker/hugo-encrypt hugo-encrypt -sitePath /data/site
deploy:
  - provider: script
    script: chmod &#43;x ./deploy.sh &amp;&amp; ./deploy.sh
    skip_cleanup: true
    on:
      branch: master

</code></pre>
  </div>

</p>
<p><code>init-submodule.sh</code>



  <div class="collapsable-code">
    <input id="193654728" type="checkbox"  />
    <label for="193654728">
      <span class="collapsable-code__language">bash</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-bash" ><code>
cd public

if [ -n &#34;$GITHUB_AUTH_SECRET&#34; ]
then
    touch ~/.git-credentials
    chmod 0600 ~/.git-credentials
    echo $GITHUB_AUTH_SECRET &gt; ~/.git-credentials
    cat ~/.git-credentials

    git config credential.helper store
    git config user.email &#34;rmartinsanta-bot@users.noreply.github.com&#34;
    git config user.name &#34;rmartinsanta-bot&#34;
fi

cd ..
git submodule update --init --recursive
</code></pre>
  </div>

</p>
<p><code>deploy.sh</code>



  <div class="collapsable-code">
    <input id="395126847" type="checkbox"  />
    <label for="395126847">
      <span class="collapsable-code__language">bash</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-bash" ><code>
#!/bin/bash

cd public
if [ -n &#34;$GITHUB_AUTH_SECRET&#34; ]
then
    touch ~/.git-credentials
    chmod 0600 ~/.git-credentials
    echo $GITHUB_AUTH_SECRET &gt; ~/.git-credentials
    echo &#34;Credentials&#34;
    cat ~/.git-credentials

    git config credential.helper store
    git config user.email &#34;rmartinsanta-bot@users.noreply.github.com&#34;
    git config user.name &#34;rmartinsanta-bot&#34;
fi
git add .
git commit -m &#34;Update site&#34;
git push --force https://rmartinsanta-bot:$BOT_PASSWORD@github.com/rmartinsanta/raulmart.in.git HEAD:master
</code></pre>
  </div>

</p>
<p>Además, añadiremos al fichero <code>config.toml</code> la siguiente línea dentro del apartado <code>[params]</code></p>



  <div class="collapsable-code">
    <input id="913726845" type="checkbox"  />
    <label for="913726845">
      <span class="collapsable-code__language">toml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-toml" ><code>
[params]
  DefaultContentLanguage = &#34;en&#34;
</code></pre>
  </div>


<p>Y creamos la carpeta <code>i18n</code> en la raíz de la web, y dentro creamos los archivos de internacionalización que necesita <code>hugo_encryptor</code> (dependerán de los idiomas de blog, yo añadiré dos, uno para español y otro para inglés).</p>
<h3 id="indexenmd">index.en.md<a href="#indexenmd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>



  <div class="collapsable-code">
    <input id="269517843" type="checkbox"  />
    <label for="269517843">
      <span class="collapsable-code__language">toml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-toml" ><code>
[protectedByPassword]
other = &#34;The following content is protected. Use the root flag for machine writeups, or the challenge flag for challenge writeups.&#34;

[enterPassword]
other = &#34;Please enter the password.&#34;

[decrypt]
other = &#34;Show content&#34;

[wrongPassword]
other = &#34;Incorrect Password&#34;
</code></pre>
  </div>


<h3 id="indexesmd">index.es.md<a href="#indexesmd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>



  <div class="collapsable-code">
    <input id="958362471" type="checkbox"  />
    <label for="958362471">
      <span class="collapsable-code__language">toml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-toml" ><code>
[protectedByPassword]
other = &#34;El contenido de este post está protegido. Utiliza la flag de root para posts sobre máquinas, o la flag del reto para posts sobre retos.&#34;

[enterPassword]
other = &#34;Porfavor, introduzca la contraseña&#34;

[decrypt]
other = &#34;Acceder&#34;

[wrongPassword]
other = &#34;Contraseña errónea&#34;
</code></pre>
  </div>


<p>Con esto y si no me he olvidado nada deberíamos tener la web funcionando.</p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Leer otras publicaciones</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://raulmart.in/es/posts/traverxec-writeup/">
                <span class="button__icon">←</span>
                <span class="button__text">Traverxec HTB WriteUp</span>
            </a>
        </span>
        
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2020 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>






<script src="https://raulmart.in/js/menu.js"></script>
<script src="https://raulmart.in/js/prism.js"></script>





  
</div>

</body>
</html>
