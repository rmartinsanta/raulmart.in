<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Creating the blog :: Blog</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Building the web To build the web we have chosen to use Hugo as a generator of static sites, so that we can automate the maintenance and deployment, which we will perform through Travis and GitHub pages.
Hugo Hugo is a static site generator written in Go.
We have used the instructions available in the [official documentation] (https://gohugo.io/getting-started/installing/) for the installation and initial configuration.
The theme chosen as the base is [&amp;ldquo;Terminal&amp;rdquo;] (https://themes." />
<meta name="keywords" content="hugo, blog" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://raulmart.in/posts/my-first-post/" />







<link rel="stylesheet" href="https://raulmart.in/css/style.min.css">




<link rel="stylesheet" href="https://raulmart.in/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://raulmart.in/img/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="https://raulmart.in/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

<meta name="twitter:creator" content="Raúl Martín" />


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Creating the blog :: Blog">
<meta property="og:description" content="How does this blog work? Read me to know more!" />
<meta property="og:url" content="https://raulmart.in/posts/my-first-post/" />
<meta property="og:site_name" content="Creating the blog" />

  <meta property="og:image" content="https://raulmart.in/hugo_logo.png">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-01-18 00:00:00 &#43;0000 UTC" />












</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Blog
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/tags/writeup/">WriteUps</a></li>
        
      
      
    

    
    <div class="spacer"></div>
    <ul class="language-selector">
      <ul class="language-selector-current">
          <li>English ▾</li>
      </ul>
      <ul class="language-selector__more hidden">
        
        <li><a href="https://raulmart.in/">English</a></li>
        
        <li><a href="https://raulmart.in/es/">Español</a></li>
        
      </ul>
    </ul>
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/tags/writeup/">WriteUps</a></li>
      
    
    
    <hr />
        
          <li>
            <a href="https://raulmart.in/">English</a>
          </li>
        
          <li>
            <a href="https://raulmart.in/es/">Español</a>
          </li>
        
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://raulmart.in/posts/my-first-post/">Creating the blog</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-01-18 
      </span>
    
    
    <span class="post-author">:: Raúl Martín</span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://raulmart.in/tags/blog/">blog</a>&nbsp;
    
  </span>
  

  
    <img src="https://raulmart.in/hugo_logo.png" class="post-cover" alt="Creating the blog" />
  

  

  <div class="post-content"><div>
        <h1 id="building-the-web">Building the web<a href="#building-the-web" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>To build the web we have chosen to use Hugo as a generator of static sites, so that we can automate the maintenance and deployment, which we will perform through Travis and GitHub pages.</p>
<h2 id="hugo">Hugo<a href="#hugo" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p><a href="https://gohugo.io/about/what-is-hugo/">Hugo</a> is a static site generator written in Go.</p>
<p>We have used the instructions available in the [official documentation] (<a href="https://gohugo.io/getting-started/installing/">https://gohugo.io/getting-started/installing/</a>) for the installation and initial configuration.</p>
<p>The theme chosen as the base is [&ldquo;Terminal&rdquo;] (<a href="https://themes.gohugo.io/hugo-theme-terminal/),">https://themes.gohugo.io/hugo-theme-terminal/),</a> over which we will make all necessary modifications.</p>
<p>To protect write ups for active challenges, we will use [Hugo Encrypt] (<a href="https://github.com/Izumiko/hugo-encrypt">https://github.com/Izumiko/hugo-encrypt</a>) to protect the posts with the challenge flag, so that only people who have already  solved it can access their writeup.</p>
<h2 id="continuous-deployment">Continuous deployment<a href="#continuous-deployment" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>We will create two repositories in GitHub following [these instructions] (<a href="https://gohugo.io/hosting-and-deployment/hosting-on-github/),">https://gohugo.io/hosting-and-deployment/hosting-on-github/),</a> so we will end with two repositories, one with the source code of the web, which we must keep private, and the second with the result of processing the web with Hugo, whose files will be served by GitHub Pages.</p>
<p>We connect the first GitHub account (our main account) with Travis, and add the password of our second account as a protected environment variable in Travis, so that we can use it in the scripts to push the second repository, from which the GitHub Pages files will be served.</p>
<p>Once the two repositories are configured, we will add the following three files to the first repository:</p>
<p><code>.travis.yml</code>



  <div class="collapsable-code">
    <input id="326197485" type="checkbox"  />
    <label for="326197485">
      <span class="collapsable-code__language">yml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-yml" ><code>
---
git:
  submodules: false
before_install:
  - chmod &#43;x init-submodule.sh
  - ./init-submodule.sh
install:
  - curl -LO https://github.com/gohugoio/hugo/releases/download/v0.62.2/hugo_0.62.2_Linux-64bit.deb
  - sudo dpkg -i hugo_0.62.2_Linux-64bit.deb

script:
  - hugo
  - docker run -it --rm -v `pwd`/public:/data/site chaosbunker/hugo-encrypt hugo-encrypt -sitePath /data/site
deploy:
  - provider: script
    script: chmod &#43;x ./deploy.sh &amp;&amp; ./deploy.sh
    skip_cleanup: true
    on:
      branch: master

</code></pre>
  </div>

</p>
<p><code>init-submodule.sh</code>



  <div class="collapsable-code">
    <input id="835416297" type="checkbox"  />
    <label for="835416297">
      <span class="collapsable-code__language">bash</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-bash" ><code>
cd public

if [ -n &#34;$GITHUB_AUTH_SECRET&#34; ]
then
    touch ~/.git-credentials
    chmod 0600 ~/.git-credentials
    echo $GITHUB_AUTH_SECRET &gt; ~/.git-credentials
    cat ~/.git-credentials

    git config credential.helper store
    git config user.email &#34;rmartinsanta-bot@users.noreply.github.com&#34;
    git config user.name &#34;rmartinsanta-bot&#34;
fi

cd ..
git submodule update --init --recursive
</code></pre>
  </div>

</p>
<p><code>deploy.sh</code>



  <div class="collapsable-code">
    <input id="574361982" type="checkbox"  />
    <label for="574361982">
      <span class="collapsable-code__language">bash</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-bash" ><code>
#!/bin/bash

cd public
if [ -n &#34;$GITHUB_AUTH_SECRET&#34; ]
then
    touch ~/.git-credentials
    chmod 0600 ~/.git-credentials
    echo $GITHUB_AUTH_SECRET &gt; ~/.git-credentials
    echo &#34;Credentials&#34;
    cat ~/.git-credentials

    git config credential.helper store
    git config user.email &#34;rmartinsanta-bot@users.noreply.github.com&#34;
    git config user.name &#34;rmartinsanta-bot&#34;
fi
git add .
git commit -m &#34;Update site&#34;
git push --force https://rmartinsanta-bot:$BOT_PASSWORD@github.com/rmartinsanta/raulmart.in.git HEAD:master
</code></pre>
  </div>

</p>
<p>In addition, we will add the following line to the <code>config.toml</code> file under the<code>[params]</code> section:</p>



  <div class="collapsable-code">
    <input id="891476532" type="checkbox"  />
    <label for="891476532">
      <span class="collapsable-code__language">toml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-toml" ><code>
[params]
  DefaultContentLanguage = &#34;en&#34;
</code></pre>
  </div>


<p>Create the <code>i18n</code> folder at the web root, and add inside the internationalization files that<code> hugo_encryptor</code> needs (they will depend on the blog languages, I will add two, one for Spanish and one for English).</p>
<h3 id="indexenmd">index.en.md<a href="#indexenmd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>



  <div class="collapsable-code">
    <input id="683924571" type="checkbox"  />
    <label for="683924571">
      <span class="collapsable-code__language">toml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-toml" ><code>
[protectedByPassword]
other = &#34;The following content is protected. Use the root flag for machine writeups, or the challenge flag for challenge writeups.&#34;

[enterPassword]
other = &#34;Please enter the password.&#34;

[decrypt]
other = &#34;Show content&#34;

[wrongPassword]
other = &#34;Incorrect Password&#34;
</code></pre>
  </div>


<h3 id="indexesmd">index.es.md<a href="#indexesmd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>



  <div class="collapsable-code">
    <input id="378569412" type="checkbox"  />
    <label for="378569412">
      <span class="collapsable-code__language">toml</span>
      
      <span class="collapsable-code__toggle" data-label-expand="△" data-label-collapse="▽"></span>
    </label>
    <pre class="language-toml" ><code>
[protectedByPassword]
other = &#34;El contenido de este post está protegido. Utiliza la flag de root para posts sobre máquinas, o la flag del reto para posts sobre retos.&#34;

[enterPassword]
other = &#34;Porfavor, introduzca la contraseña&#34;

[decrypt]
other = &#34;Acceder&#34;

[wrongPassword]
other = &#34;Contraseña errónea&#34;
</code></pre>
  </div>


<p>If I have not forgotten anything you should have the web working :D</p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://raulmart.in/posts/traverxec-writeup/">
                <span class="button__icon">←</span>
                <span class="button__text">Traverxec HTB WriteUp</span>
            </a>
        </span>
        
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2020 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>






<script src="https://raulmart.in/js/menu.js"></script>
<script src="https://raulmart.in/js/prism.js"></script>





  
</div>

</body>
</html>
